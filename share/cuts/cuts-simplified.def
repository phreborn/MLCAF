# -*- mode: tqfolder -*-
# this files name is 'cuts.txt'
# to get proper syntax highlighting and indentation when using emacs,
# add the following line to your .emacs file:
#   (load-file "$TQPATH/share/tqfolder.el")

+CutChannels {
  # to use the per-event event weights poperly, use "Weight" as .weightExpression here
  #<.cutExpression = "$(fitsChannel)", .weightExpression = "Weight_$(weightname):$(cand)", .title="Channel Selection">
  <.cutExpression = "$(fitsChannel)", .title="Channel Selection">

  ### Require at least one other leptons. This needs to  be here for the subsequent truth categorization cuts.
  +CutOtherLep{
    <.cutExpression = "$(nOtherLep) == 1", .title = "lll final state">

    ###
    ### Ensure that the flavor process sample folders contain only their respective flavors
    ###

    +CutBottomLeptonic {
      <.cutExpression = "$(isBottomLeptonic) ? ($(FakeFlavor) == $(bottomLeptonic)) : 1.", .title = "bottomLeptonic fake flavor">

      +CutBottomHadronic {
        <.cutExpression = "$(isBottomHadronic) ? ($(FakeFlavor) == $(bottomHadronic)) : 1.", .title = "bottomHadronic fake flavor">

        +CutCharmLeptonic {
          <.cutExpression = "$(isCharmLeptonic) ? ($(FakeFlavor) == $(charmLeptonic)) : 1.", .title = "charmLeptonic fake flavor">

          +CutCharmHadronic {
            <.cutExpression = "$(isCharmHadronic) ? ($(FakeFlavor) == $(charmHadronic)) : 1.", .title = "charmHadronic fake flavor">

            +CutStrangeLeptonic {
              <.cutExpression = "$(isStrangeLeptonic) ? ($(FakeFlavor) == $(strangeLeptonic)) : 1.", .title = "strangeLeptonic fake flavor">

              +CutStrangeHadronic {
                <.cutExpression = "$(isStrangeHadronic) ? ($(FakeFlavor) == $(strangeHadronic)) : 1.", .title = "strangeHadronic fake flavor">

                +CutLightLeptonic {
                  <.cutExpression = "$(isLightLeptonic) ? ($(FakeFlavor) == $(lightLeptonic)) : 1.", .title = "lightLeptonic fake flavor">

                  +CutLightHadronic {
                    <.cutExpression = "$(isLightHadronic) ? ($(FakeFlavor) == $(lightHadronic)) : 1.", .title = "lightHadronic fake flavor">

                    +CutOtherLeptonic {
                      <.cutExpression = "$(isOtherLeptonic) ? ($(FakeFlavor) == $(otherLeptonic)) : 1.", .title = "otherLeptonic fake flavor">

                      +CutOtherHadronic {
                        <.cutExpression = "$(isOtherHadronic) ? ($(FakeFlavor) == $(otherHadronic)) : 1.", .title = "otherHadronic fake flavor">

                        +CutEL_NonDefined_Origin {
                          <.cutExpression = "$(isEL_NonDefined_Origin) ? ($(FakeFlavorMCTC) == $(EL_NonDefined_Origin)) : 1.", .title = "EL_NonDefined_Origin fake flavor">

                          +CutMU_NonDefined_Origin {
                            <.cutExpression = "$(isMU_NonDefined_Origin) ? ($(FakeFlavorMCTC) == $(MU_NonDefined_Origin)) : 1.", .title = "MU_NonDefined_Origin fake flavor">

                            +CutPrompt {
                              <.cutExpression = "$(isPrompt) ? ($(FakeFlavorMCTC) == $(Prompt)) : 1.", .title = "Prompt fake flavor">

                              +CutChargeFlip {
                                <.cutExpression = "$(isChargeFlip) ? ($(FakeFlavorMCTC) == $(ChargeFlip)) : 1.", .title = "ChargeFlip fake flavor">

                                +CutEL_HFb {
                                  <.cutExpression = "$(isEL_HFb) ? ($(FakeFlavorMCTC) == $(EL_HFb)) : 1.", .title = "EL_HFb fake flavor">

                                  +CutMU_HFb {
                                    <.cutExpression = "$(isMU_HFb) ? ($(FakeFlavorMCTC) == $(MU_HFb)) : 1.", .title = "MU_HFb fake flavor">

                                    +CutEL_HFc {
                                      <.cutExpression = "$(isEL_HFc) ? ($(FakeFlavorMCTC) == $(EL_HFc)) : 1.", .title = "EL_HFc fake flavor">

                                      +CutMU_HFc {
                                        <.cutExpression = "$(isMU_HFc) ? ($(FakeFlavorMCTC) == $(MU_HFc)) : 1.", .title = "MU_HFc fake flavor">

                                        +CutEL_LFgamma {
                                          <.cutExpression = "$(isEL_LFgamma) ? ($(FakeFlavorMCTC) == $(EL_LFgamma)) : 1.", .title = "EL_LFgamma fake flavor">

                                          +CutEL_pi0 {
                                            <.cutExpression = "$(isEL_pi0) ? ($(FakeFlavorMCTC) == $(EL_pi0)) : 1.", .title = "EL_pi0 fake flavor">

                                            +CutEL_Kaon {
                                              <.cutExpression = "$(isEL_Kaon) ? ($(FakeFlavorMCTC) == $(EL_Kaon)) : 1.", .title = "EL_Kaon fake flavor">

                                              +CutMU_Kaon {
                                                <.cutExpression = "$(isMU_Kaon) ? ($(FakeFlavorMCTC) == $(MU_Kaon)) : 1.", .title = "MU_Kaon fake flavor">

                                                +CutEL_LFrest {
                                                  <.cutExpression = "$(isEL_LFrest) ? ($(FakeFlavorMCTC) == $(EL_LFrest)) : 1.", .title = "EL_LFrest fake flavor">

                                                  +CutMU_LFrest {
                                                    <.cutExpression = "$(isMU_LFrest) ? ($(FakeFlavorMCTC) == $(MU_LFrest)) : 1.", .title = "MU_LFrest fake flavor">

                                                  }#End: CutMU_LFrest
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }#End: Cut1OtherLep
}#End: CutChannels

## Now, add the real cuts at the end of the fake-source separation cuts
@*/CutMU_LFrest{

  +CutLeptonsPt{
    <.cutExpression = " $(lep0).pt() > 15000 && $(lep1).pt() > 15000 && $(otherPart0).pt() > 15000", .title = "lep $p_T > 15$ GeV">

  } #End: CutLeptonsPt
}#End: Attach to CutMU_LFrest