# -*- mode:tqfolder -*-

################################################################
##
##  Continuous ID cuts
##
#################################################################

# include nominal anlysis file, start at CutISO, and add BDT bin cuts.
$include("ConfigSignalRegion/htautau_lephad_cuts_sr_mc.def");

@*/CutMT{
    +CutContBveto1p{
        <.cutExpression = "[n_bjets == 0 && tau_0_n_charged_tracks==1]",  .title="ContBveto1p">
        +CutBveto1pBDT1{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.25 && tau_0_jet_bdt_score_trans<0.4)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT1_$(fakevar)] : 1", .title="Bveto1pBDT1">
            }
        +CutBveto1pBDT2{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.4 && tau_0_jet_bdt_score_trans<0.6)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT2_$(fakevar)] : 1", .title="Bveto1pBDT2">
            }
        +CutBveto1pBDT3{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.6 && tau_0_jet_bdt_score_trans<0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT3_$(fakevar)] : 1", .title="Bveto1pBDT3">
            }
        +CutBveto1pBDT4{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT4_$(fakevar)] : 1", .title="Bveto1pBDT4">
            }
        }
    +CutContBtag1p{
        < .cutExpression = "[n_bjets > 0 && tau_0_n_charged_tracks==1]", .title="ContBtag1p">
        +CutBtag1pBDT1{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>0.25 && tau_0_jet_bdt_score_trans<0.4)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT1_$(fakevar)] : 1", .title="Btag1pBDT1",>
            }
        +CutBtag1pBDT2{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.4 && tau_0_jet_bdt_score_trans<0.6)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT2_$(fakevar)] : 1", .title="Btag1pBDT2",>
            }
        +CutBtag1pBDT3{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.6 && tau_0_jet_bdt_score_trans<0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT3_$(fakevar)] : 1", .title="Btag1pBDT3",>
            }
        +CutBtag1pBDT4{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT4_$(fakevar)] : 1", .title="Btag1pBDT4",>

            }
        }

    +CutContBveto3p{
        <.cutExpression = "[n_bjets == 0 && tau_0_n_charged_tracks==3]",  .title="ContBveto3p">
        +CutBveto3pBDT1{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.4 && tau_0_jet_bdt_score_trans<0.6)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT1_$(fakevar)] : 1", .title="Bveto3pBDT1">
            }
        +CutBveto3pBDT2{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.6 && tau_0_jet_bdt_score_trans<0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT2_$(fakevar)] : 1", .title="Bveto3pBDT2">
            }
        +CutBveto3pBDT3{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT3_$(fakevar)] : 1", .title="Bveto3pBDT3">
            }
        }
    +CutContBtag3p{
        < .cutExpression = "[n_bjets > 0 && tau_0_n_charged_tracks==3]", .title="ContBtag3p">
        +CutBtag3pBDT1{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.4 && tau_0_jet_bdt_score_trans<0.6)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT1_$(fakevar)] : 1", .title="Btag3pBDT1">
            }
        +CutBtag3pBDT2{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.6 && tau_0_jet_bdt_score_trans<0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT2_$(fakevar)] : 1", .title="Btag3pBDT2">
            }
        +CutBtag3pBDT3{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT3_$(fakevar)] : 1", .title="Btag3pBDT3">
            }
        }
    }

## Validation Region

@*/CutVRMT{
    +CutVRContBveto1p{
        <.cutExpression = "[n_bjets == 0 && tau_0_n_charged_tracks==1]",  .title="VRContBveto1p">
        +CutVRBveto1pBDT1{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.25 && tau_0_jet_bdt_score_trans<0.4)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT1_$(fakevar)] : 1", .title="VRBveto1pBDT1">
            }
        +CutVRBveto1pBDT2{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.4 && tau_0_jet_bdt_score_trans<0.6)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT2_$(fakevar)] : 1", .title="VRBveto1pBDT2">
            }
        +CutVRBveto1pBDT3{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.6 && tau_0_jet_bdt_score_trans<0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT3_$(fakevar)] : 1", .title="VRBveto1pBDT3">
            }
        +CutVRBveto1pBDT4{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT4_$(fakevar)] : 1", .title="VRBveto1pBDT4">
            }
        }
    +CutVRContBtag1p{
        < .cutExpression = "[n_bjets > 0 && tau_0_n_charged_tracks==1]", .title="VRContBtag1p">
        +CutVRBtag1pBDT1{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>0.25 && tau_0_jet_bdt_score_trans<0.4)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT1_$(fakevar)] : 1", .title="VRBtag1pBDT1",>
            }
        +CutVRBtag1pBDT2{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.4 && tau_0_jet_bdt_score_trans<0.6)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT2_$(fakevar)] : 1", .title="VRBtag1pBDT2",>
            }
        +CutVRBtag1pBDT3{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.6 && tau_0_jet_bdt_score_trans<0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT3_$(fakevar)] : 1", .title="VRBtag1pBDT3",>
            }
        +CutVRBtag1pBDT4{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT4_$(fakevar)] : 1", .title="VRBtag1pBDT4",>

            }
        }

    +CutVRContBveto3p{
        <.cutExpression = "[n_bjets == 0 && tau_0_n_charged_tracks==3]",  .title="VRContBveto3p">
        +CutVRBveto3pBDT1{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.4 && tau_0_jet_bdt_score_trans<0.6)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT1_$(fakevar)] : 1", .title="VRBveto3pBDT1">
            }
        +CutVRBveto3pBDT2{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.6 && tau_0_jet_bdt_score_trans<0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT2_$(fakevar)] : 1", .title="VRBveto3pBDT2">
            }
        +CutVRBveto3pBDT3{
            <.cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT3_$(fakevar)] : 1", .title="VRBveto3pBDT3">
            }
        }
    +CutVRContBtag3p{
        < .cutExpression = "[n_bjets > 0 && tau_0_n_charged_tracks==3]", .title="VRContBtag3p">
        +CutVRBtag3pBDT1{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.4 && tau_0_jet_bdt_score_trans<0.6)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT1_$(fakevar)] : 1", .title="VRBtag3pBDT1">
            }
        +CutVRBtag3pBDT2{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.6 && tau_0_jet_bdt_score_trans<0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT2_$(fakevar)] : 1", .title="VRBtag3pBDT2">
            }
        +CutVRBtag3pBDT3{
            < .cutExpression = "$(isAntiID)? (tau_0_jet_bdt_score_trans>0.01 && tau_0_jet_bdt_medium==0) : (tau_0_jet_bdt_score_trans>=0.8)",
            .weightExpression = "$(isAntiID)? [ptreweight_BDT3_$(fakevar)] : 1", .title="VRBtag3pBDT3">
            }
        }
    }
