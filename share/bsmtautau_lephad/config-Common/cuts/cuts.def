# -*- mode: tqfolder -*-

################################################################
##
##  Common cuts for BSMtautau LepHad
##
##  The first cut CutChannel selects channel based on what is
##      requested in config file.
##	CutBase cuts on Parent Mass for inclusive Z->tautau/mumu/ee samples
##		because we have sliced DY samples above 120GeV,
##		and trigger decision, because all regions use same triggers
##
#################################################################

+CutChannel {
    <.cutExpression="(('$(channel)' == 'ehad' && $(isElectron)) || ('$(channel)' == 'muhad' && $(isMuon)))", .title="Channel">

    +CutBase {
        <.cutExpression="{$(isData) ? 1 : ($(isInclusiveZ) ? (([BSM_parent_p4.M()] < 120) ? 1 : 0) : 1)} && [BSMTriggerDecision] == 1",
         .weightExpression="(((! $(isData)) && $(UseLPXKfactor)) ? [LPXKfactor] : 1)", .title="Base">

        +CutMaterialCorrection {
            <.cutExpression="1",
             .weightExpression="($(isData) ? 1 : (($(UseMaterialCorrection) && [TruthTauSelector] == 30) ? [MatTransCorrection] : 1))", .title="Material Transport Correction">
        } #End: CutMaterialCorrection
	} #End: CutBase
} #End: CutChannel
